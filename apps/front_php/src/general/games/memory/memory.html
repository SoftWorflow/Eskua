<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juego Memoria LSU</title>

    <link rel="stylesheet" href="../../../output.css">
    
    <!-- Google Fonts: Lexend -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
    * {
        font-family: 'Lexend', sans-serif;
    }

    body {
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        min-height: 100vh;
    }

   .card-container {
      width: clamp(90px, 10vw, 120px);
      aspect-ratio: 1 / 1;
      border-radius: 0.75rem;
      perspective: 1000px;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      cursor: pointer;
    }

    .card-container {
      box-shadow: 0 4px 10px rgba(27, 59, 80, 0.15);
    }
    .card-container:not(.flipped):hover {
      box-shadow: 0 8px 18px rgba(27, 59, 80, 0.25);
    }

    .card-container.hover-dynamic {
      transition: none;
    }

    .card-inner {
      position: relative;
      width: 100%;
      height: 100%;
      transition: transform 0.45s cubic-bezier(0.4, 0, 0.2, 1);
      transform-style: preserve-3d;
      backface-visibility: hidden;
    }

    .card-face {
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 0.75rem;
      backface-visibility: hidden;
      overflow: hidden;
      position: absolute;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .card-container.flipped .card-inner {
        transform: rotateY(180deg);
    }

    .card-back {
        background: #1B3B50;
        box-shadow: 0 4px 6px rgba(27, 59, 80, 0.2);
        transition: box-shadow 0.2s ease;
    }

    .card-front {
        background: #FBFBFB;
        border: 2px solid #DFDFDF;
        transform: rotateY(180deg);
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .card-container.hover-dynamic {
      transition: none;
    }

    /* === Hover Effects === */
    .card-container:not(.flipped):not(.matched):hover {
      filter: brightness(1.05);
      box-shadow: 0 10px 25px rgba(27, 59, 80, 0.25);
    }

    .card-container:not(.flipped):not(.matched):not(.dragging):hover .card-back {
        box-shadow: 0 12px 24px rgba(27, 59, 80, 0.4);
    }

    /* === Active State === */
    .card-container:not(.flipped):not(.matched):active {
        transform: translateY(-2px) scale(0.98);
    }

    @keyframes matched-glow {
        0%, 100% { box-shadow: 0 0 20px rgba(225, 160, 91, 0.6); }
        50% { box-shadow: 0 0 30px rgba(225, 160, 91, 0.9); }
    }

    .card-container.matched .card-front {
        border-color: #E1A05B;
        border-width: 3px;
        animation: matched-pulse 0.6s ease-in-out, matched-glow 1.5s ease-in-out 0.6s;
    }

    .card-container.matched {
        pointer-events: none;
    }

    /* ==== Tablero general ==== */
    #tableros-container {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      gap: clamp(2rem, 4vw, 5rem);
      width: 100%;
      max-width: 1100px;
      margin: 0 auto;
    }

    /* ==== Grids separados ==== */
    #tablero-letras,
    #tablero-senas {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: clamp(0.6rem, 1.5vw, 1rem); /* menos espacio entre cartas */
      justify-items: center;
      flex: 1;
      width: 85%;
      max-width: 500px;
      justify-items: center;
    }
    
    @media (min-width: 1024px) {
      #tablero-letras .card-container,
      #tablero-senas .card-container {
        width: clamp(110px, 9vw, 130px);
      }
    }

    /* ==== T√≠tulos "Letras" y "Se√±as" ==== */
    #tableros-container::before,
    #tableros-container::after {
      content: '';
    }

    /* ==== Cartas ==== */
    .card-container {
      aspect-ratio: 1 / 1;
      width: clamp(85px, 9vw, 130px); /* m√°s grandes, responsivas */
      border-radius: 0.75rem;
      transition: transform 0.2s ease, filter 0.2s ease;
    }

    /* Opcional: aseguremos que no se colapsen los grids en pantallas peque√±as */
    @media (max-width: 768px) {
      #tableros-container {
        flex-direction: column;
        align-items: center;
        gap: 2rem;
      }

      #tablero-letras,
      #tablero-senas {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    /* === Fail Animation === */
    @keyframes shake {
        0%, 100% { transform: translateX(0) rotate(0deg); }
        20% { transform: translateX(-10px) rotate(-2deg); }
        40% { transform: translateX(10px) rotate(2deg); }
        60% { transform: translateX(-10px) rotate(-1deg); }
        80% { transform: translateX(10px) rotate(1deg); }
    }

    .card-container.fail {
        animation: shake 0.5s ease;
    }

    .card-container.fail .card-front {
        background: #ffe5e5;
        border-color: #ff6b6b;
    }

    /* === Disabled State === */
    .card-container.disabled {
        pointer-events: none;
        opacity: 0.6;
        filter: grayscale(0.3);
    }

    /* === Modal Styles === */
    .modal-backdrop {
        background: rgba(27, 59, 80, 0.9);
        backdrop-filter: blur(8px);
        animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    .modal-content {
        animation: slideUp 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    @keyframes slideUp {
        from {
            opacity: 0;
            transform: translateY(50px) scale(0.9);
        }
        to {
            opacity: 1;
            transform: translateY(0) scale(1);
        }
    }

    /* === Score Animation === */
    @keyframes score-bump {
        0% { transform: scale(1); }
        30% { transform: scale(1.2); }
        50% { transform: scale(0.95); }
        70% { transform: scale(1.1); }
        100% { transform: scale(1); }
    }

    @keyframes score-shine {
        0% { filter: brightness(1); }
        50% { filter: brightness(1.3); }
        100% { filter: brightness(1); }
    }

    .score-bump {
        animation: score-bump 0.5s ease, score-shine 0.5s ease;
    }

    /* === Focus Styles === */
    .card-container:focus {
        outline: 3px solid #E1A05B;
        outline-offset: 4px;
        border-radius: 0.75rem;
    }

    .card-container:focus:not(:focus-visible) {
        outline: none;
    }

    /* === Button Hover === */
    button {
        transition: all 0.2s ease;
        position: relative;
        overflow: hidden;
    }

    button::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.2);
        transform: translate(-50%, -50%);
        transition: width 0.6s, height 0.6s;
    }

    button:hover::before {
        width: 300px;
        height: 300px;
    }

    button:active {
        transform: scale(0.95);
    }

    /* === Loading State === */
    @keyframes pulse-bg {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.7; }
    }

    .card-back.loading {
        animation: pulse-bg 1.5s ease infinite;
    }

    /* === Counter Animations === */
    @keyframes counter-decrease {
        0% { color: #1B3B50; transform: scale(1); }
        50% { color: #ff6b6b; transform: scale(1.3); }
        100% { color: #1B3B50; transform: scale(1); }
    }

    .counter-animate {
        animation: counter-decrease 0.4s ease;
    }

    /* === Responsive adjustments === */
    @media (max-width: 768px) {
        .card-container:hover {
            transform: none;
        }
        
        .card-container:active {
            transform: scale(0.95);
        }
    }

    /* === Smooth transitions for all interactive elements === */
    * {
        -webkit-tap-highlight-color: transparent;
    }

    /* === Card flip sound effect (visual) === */
    @keyframes flip-whoosh {
        0% { filter: blur(0px); }
        50% { filter: blur(1px); }
        100% { filter: blur(0px); }
    }

    .card-container.flipping .card-inner {
        animation: flip-whoosh 0.6s ease;
    }

    @keyframes rachaFloat {
      0% {
        transform: translate(-50%, 0);
        opacity: 1;
      }
      100% {
        transform: translate(-50%, -28px);
        opacity: 0;
      }
    }

    .animate-rachaFloat {
      animation: rachaFloat 1s cubic-bezier(0.22, 1, 0.36, 1) forwards;
    }

</style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">
    
    <!-- Main Container -->
    <div class="w-full max-w-7xl">
        
        <!-- Header -->
        <header class="bg-white rounded-2xl shadow-lg p-6 mb-6">
            <div class="flex flex-col lg:flex-row items-center justify-between gap-4">

                <!-- Stats HUD -->
                <div class="flex items-center gap-6">
                    <!-- Tiempo -->
                    <div class="text-center">
                        <div class="text-sm font-medium" style="color: #6A7282;">Tiempo</div>
                        <div id="tiempo-display" class="text-2xl font-bold" style="color: #1B3B50;">00:00</div>
                    </div>

                    <!-- Puntaje -->
                    <div class="text-center px-6 py-2 rounded-xl" style="background: #FFF5EB;">
                        <div class="text-sm font-medium" style="color: #6A7282;">Puntaje</div>
                        <div id="puntaje-display" class="text-4xl font-bold" style="color: #E1A05B;">0</div>
                    </div>

                    <!-- Movimientos -->
                    <div class="text-center">
                      <div class="text-sm font-medium" style="color: #6A7282;">Movimientos</div>
                      <div id="intentos-display" class="text-2xl font-bold" style="color: #1B3B50;">0</div>
                    </div>

                    <!-- Eficiencia -->
                    <div class="text-center">
                      <div class="text-sm font-medium" style="color: #6A7282;">Eficiencia</div>
                      <div id="eficiencia-display" class="text-2xl font-bold" style="color: #1B3B50;">100%</div>
                    </div>
                    
                </div>

                <!-- Actions -->
                <div class="flex items-center gap-3">
                    <button id="btn-tutorial" class="px-4 py-2 rounded-lg font-medium transition-all hover:opacity-80" style="background: #DFDFDF; color: #1B3B50;">
                        Tutorial
                    </button>
                    <button id="btn-reiniciar" class="px-4 py-2 rounded-lg font-medium transition-all hover:opacity-80" style="background: #1B3B50; color: white;">
                        Reiniciar
                    </button>
                </div>
            </div>

            <!-- Live Announcements (screen reader) -->
            <div id="sr-announcer" class="sr-only" role="status" aria-live="polite" aria-atomic="true"></div>
        </header>

        <!-- Game Board -->
        <main class="bg-white rounded-2xl shadow-lg p-8">
          <div id="tablero" class="flex justify-between items-start gap-16 max-w-7xl mx-auto">
            <!-- Letras -->
            <div class="flex-1">
              <h2 class="text-center text-xl font-semibold mb-6" style="color:#6A7282;">Letras</h2>
              <div id="tablero-letras" class="grid grid-cols-4 gap-4 sm:gap-3 md:gap-5 place-items-center"></div>
            </div>

            <!-- SEPARADOR VISUAL (OPCIONAL) -->
            <div class="w-px bg-gradient-to-b from-transparent via-gray-300 to-transparent self-stretch"></div>

            <!-- Se√±as -->
            <div class="flex-1">
              <h2 class="text-center text-xl font-semibold mb-6" style="color:#6A7282;">Se√±as</h2>
              <div id="tablero-senas" class="grid grid-cols-4 gap-4 sm:gap-3 md:gap-5 place-items-center"></div>
            </div>
          </div>
        </main>

        <!-- Footer -->
        <footer class="text-center mt-6 text-sm" style="color: #6A7282;">
            <p>Mejor puntaje: <span id="mejor-puntaje" class="font-bold" style="color: #E1A05B;">0</span></p>
        </footer>
    </div>

    <!-- Tutorial Modal -->
    <div id="modal-tutorial" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop hidden">
      <div class="modal-content bg-white rounded-2xl shadow-2xl max-w-2xl w-full p-8 relative">
            <button id="close-tutorial" class="absolute top-4 right-4 w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors">
                <svg class="w-5 h-5" style="color: #6A7282;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                </svg>
            </button>

            <h2 class="text-3xl font-bold mb-2" style="color: #1B3B50;">¬øC√≥mo jugar?</h2>
            <p class="text-sm mb-6" style="color: #6A7282;">Juego Memoria</p>

            <div class="space-y-6">
                <!-- Objetivo -->
                <div>
                    <div class="flex items-start gap-3">
                        <div class="w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 font-bold text-white" style="background: #E1A05B;">1</div>
                        <div>
                            <h3 class="font-bold mb-1" style="color: #1B3B50;">Objetivo</h3>
                            <p style="color: #6A7282;">Formar pares de cartas, agrupando cada letra con su se√±a correspondiente. El juego termina cuando el jugador encuentra todos los pares o se queda sin intentos.</p>
                            <p class="mt-2 text-sm" style="color: #6A7282;">Para conseguir un puntaje m√°s alto, intenta ganar en el menor tiempo posible.</p>
                        </div>
                    </div>
                </div>

                <!-- Ejemplos -->
                <div class="bg-gray-50 rounded-xl p-4">
                    <p class="text-sm font-medium mb-3" style="color: #6A7282;">Ejemplos Pares:</p>
                    <div class="flex justify-center gap-6 flex-wrap">
                        <div class="flex items-center gap-2">
                            <div class="w-16 h-20 rounded-lg flex items-center justify-center text-2xl font-bold border-2" style="background: #FBFBFB; border-color: #DFDFDF; color: #1B3B50;">A</div>
                            <svg class="w-6 h-6" style="color: #E1A05B;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
                            </svg>
                            <div class="w-16 h-20 rounded-lg flex items-center justify-center border-2" style="background: #FBFBFB; border-color: #DFDFDF;">
                                <span class="text-3xl">‚úä</span>
                            </div>
                        </div>
                        <div class="flex items-center gap-2">
                            <div class="w-16 h-20 rounded-lg flex items-center justify-center text-2xl font-bold border-2" style="background: #FBFBFB; border-color: #DFDFDF; color: #1B3B50;">B</div>
                            <svg class="w-6 h-6" style="color: #E1A05B;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
                            </svg>
                            <div class="w-16 h-20 rounded-lg flex items-center justify-center border-2" style="background: #FBFBFB; border-color: #DFDFDF;">
                                <span class="text-3xl">‚úã</span>
                            </div>
                        </div>
                        <div class="flex items-center gap-2">
                            <div class="w-16 h-20 rounded-lg flex items-center justify-center text-2xl font-bold border-2" style="background: #FBFBFB; border-color: #DFDFDF; color: #1B3B50;">C</div>
                            <svg class="w-6 h-6" style="color: #E1A05B;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
                            </svg>
                            <div class="w-16 h-20 rounded-lg flex items-center justify-center border-2" style="background: #FBFBFB; border-color: #DFDFDF;">
                                <span class="text-3xl">ü§è</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Condiciones -->
                <div>
                    <div class="flex items-start gap-3">
                        <div class="w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 font-bold text-white" style="background: #E1A05B;">2</div>
                        <div>
                            <h3 class="font-bold mb-1" style="color: #1B3B50;">Condiciones</h3>
                            <ul class="space-y-1" style="color: #6A7282;">
                                <li>‚Ä¢ Solo se pueden dar vuelta dos cartas por turno, si no son iguales, el jugador pierde un intento.</li>
                                <li>‚Ä¢ El puntaje total se basa en los intentos restantes y el tiempo transcurrido.</li>
                                <li class="font-medium" style="color: #E1A05B;">¬øMenor tiempo? ¬øM√°s intentos restantes? ¬°MAYOR PUNTAJE!</li>
                                <li>‚Ä¢ Aprender LSU, y divertirse!!</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <button id="btn-jugar" class="w-full mt-8 py-3 rounded-lg font-bold text-white text-lg transition-all hover:opacity-90" style="background: #E1A05B;">
                Jugar
            </button>
        </div>
    </div>

    <!-- End Game Modal -->
    <div id="modal-endgame" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop hidden">
    <div class="modal-content bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center">
            <div id="endgame-icon" class="w-20 h-20 mx-auto mb-4 rounded-full flex items-center justify-center text-4xl">
                <!-- Icon will be set by JS -->
            </div>
            <h2 id="endgame-title" class="text-3xl font-bold mb-2" style="color: #1B3B50;"><!-- Title --></h2>
            <p id="endgame-message" class="text-lg mb-6" style="color: #6A7282;"><!-- Message --></p>
            
            <div class="bg-gray-50 rounded-xl p-6 mb-6">
                <div class="text-sm font-medium mb-2" style="color: #6A7282;">Tu Puntaje</div>
                <div id="endgame-score" class="text-5xl font-bold" style="color: #E1A05B;">0</div>
                <div id="endgame-time" class="text-sm mt-2" style="color: #6A7282;">Tiempo: 00:00</div>
                <div id="endgame-moves" class="text-sm text-[#6A7282]">Movimientos: 0</div>
            </div>

            <button id="btn-jugar-nuevamente" class="w-full py-3 rounded-lg font-bold text-white text-lg transition-all hover:opacity-90" style="background: #1B3B50;">
                Jugar Nuevamente
            </button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>