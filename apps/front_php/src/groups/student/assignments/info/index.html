<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Info Tarea - Eskua</title>
  <link rel="stylesheet" href="/output.css">
  <link rel="icon" href="/images/EskuaLogo2.png">
  <script src="/auth.js"></script>
  <script src="/navbar-loader.js"></script>
  <script src="/groups/group-navbar-loader.js"></script>
  <script src="assignment-info.js"></script>
  <!-- Notyf CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.css">
  <!-- Notyf JS -->
  <script src="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.js"></script>
  <!-- LOADING CIRCLE LIBRARY -->
  <script src="https://cdn.jsdelivr.net/gh/fgnass/spin.js@2.3.2/spin.min.js"></script>
  <script>
    document.documentElement.style.display = 'none';
    (async () => {
      // Allow access even if not logged in
      await authManager.ensureValidToken();

      if (authManager.getAccessToken()) {
        authManager.startTokenMonitoring();
      }

      await initializeNavbar('#navbar-container');
      await initializeGroupNavbar('tasks');

      document.documentElement.style.display = '';
    })();
  </script>
</head>

<body>

  <div id="navbar-container"></div>

  <div id="turn-in-popup" class="hidden bg-black/80 absolute w-screen h-screen flex justify-center items-center z-50">
    <div class="w-1/2 h-7/12 rounded-xl bg-[#1B3B50] shadow-md/25 p-3">
      <div class="w-full h-full bg-white rounded-sm flex items-center justify-center">
        <!-- Return Arrow -->
        <div id="back-arrow" class="group">
          <img src="/images/ReturnArrow.svg" alt=""
            class="absolute left-[27vw] top-[25vh] w-8 h-8 interactive scale105 block group-hover:hidden">
          <img src="/images/ReturnArrowOrange.svg" alt=""
            class="absolute left-[27vw] top-[25vh] w-8 h-8 interactive scale105 hidden group-hover:block">
        </div>

        <form id="turn-in-form" class="w-3/4 h-full flex flex-col items-center py-10 space-y-8">
          <h1 class="font-semibold text-5xl text-[#1B3B50]">Entregar Tarea</h1>
          <textarea required id="text-message"
            class="w-full h-[20vh] border-2 border-[#DFDFDF] resize-none shadow-md/25 rounded-xl px-3 py-4 "
            placeholder="Escribe un mensaje... "></textarea>
          <div class="flex flex-col w-full items-start space-y-4">
            <!-- Attach Files -->
            <div class="flex flex-col space-y-5 w-full">
              <!-- Title + Subtitle -->
              <div class="flex flex-col space-y-0.5">
                <!-- Title -->
                <div>
                  <h2 class="text-lg text-[#1B3B50] font-semibold">Adjuntar Archivos</h2>
                </div>
                <p class="text-[#6A7282] text-sm">Elige cualquier archivo desde tu dispositivo para
                  subir.
                </p>
              </div>
              <!-- Upload + File Download Container -->
              <div class="flex space-x-5 w-full">
                <!-- Upload Button -->
                <label
                  id="file-input-label" for="file-input"
                  class="flex flex-col space-y-1 border-2 border-dotted border-[#A3A3A3] py-4 px-12 rounded-2xl items-center shadow-md/30 hover:bg-[#fafafa] w-1/2 interactive">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#3550BA"
                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 mx-auto">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                    <polyline points="7 10 12 5 17 10" />
                    <line x1="12" y1="5" x2="12" y2="15" />
                  </svg>
                  <p class="font-light text-sm text-[#3550BA] select-none">Abrir el explorador de archivos</p>
                  <!-- File types -->
                  <p class="font-light text-[12px] text-[#A3A3A3] select-none">PDF, MP4, PNG, JPG, WEBP</p>
                </label>
                
                <input id="file-input" type="file" accept=".pdf,.mp4,.png,.jpg,.jpeg,.webp" class="hidden"
                  onchange="addNewFile(event)"/>
                <div id="files-to-upload" class="w-1/2"></div>
              </div>
            </div>
          </div>
          <div class="w-full h-1/6 flex items-center justify-center">
            <button type="submit" class="orange-button h-full px-14">Confirmar</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div
    class="min-h-screen w-full flex flex-col items-center justify-end px-10 bg-[url(../images/Background3.png)] bg-fixed">
    <div class="w-full h-[86vh] bg-[#1B3B50] rounded-t-xl flex px-2 pt-2">
      <!-- FONDO BLANCO -->
      <div class="w-full h-full bg-white rounded-t-sm flex flex-col items-center justify-center">
        <!-- MAIN CONTENT -->
        <div class="flex w-full h-full">
          <!-- SIDE MENU -->
          <div id="group-navbar-container"></div>

          <!-- RIGHT CONENT -->
          <div class="w-full flex flex-col items-center justify-center">

            <div id="spinner-container"></div>

            <div id="info-container" class="hidden w-full flex flex-col items-center justify-center space-y-5">
              <!-- CONTENT CONTAINER -->
              <div class="w-3/4 h-11/12 flex flex-col space-y-20 pt-10">

                <!-- TITLE -->
                <div class="flex flex-col items-center space-y-1.5">
                  <h1 class="text-6xl font-semibold text-[#1B3B50] mb-4 max-w-[45vw] overflow-ellipsis truncate"
                    id="title">Nombre Tarea</h1>
                  <!-- ASSIGNMENT TOTAL POINTS -->
                  <p class="text-lg text-[#6A7282]" id="max-score">10 puntos</p>
                </div>

                <div class="flex flex-col h-fit items-center space-y-8">
                  <!-- ASSIGNMENT INFO TABLE -->
                  <div class="h-full w-3/4 flex flex-col shadow-md/25 bg-[#FBFBFB] rounded-xl">
                    <div class="flex px-5 py-3 border-b-2 border-[#DFDFDF] items-center justify-between">
                      <p class="text-2xl font-semibold text-[#1B3B50]">Información Tarea</p>
                      <div class="flex flex-col items-end">
                        <p class="text-[#6A7282]">Fecha de Entrega</p>
                        <p class="text-[#6A7282]" id="due-date">25/06/25</p>
                      </div>
                    </div>

                    <div class="flex flex-col px-5 py-6 border-b-2 border-[#DFDFDF] space-y-1.5">
                      <p class="text-2xl font-semibold text-[#1B3B50]">Descripción</p>
                      <!-- DESCRIPTION -->
                      <p class="text-[#6A7282] w-10/12 leading-6 max-h-[15vh] overflow-y-auto pr-2 break-all"
                        id="description">
                        Leer el archivo adjunto donde habla sobre un teorico basico sobre lenguaje de señas como una
                        introduccion al tema,
                        al final del archivo se encuentran preguntas sobre cada texto leido, enviar todas las preguntas
                        en un archivo aparte.
                        Leer el archivo adjunto donde habla sobre un teorico basico sobre lenguaje de señas como una
                        introduccion al tema,
                        al final del archivo se encuentran preguntas sobre cada texto leido, enviar todas las preguntas
                        en un archivo aparte.
                        Leer el archivo adjunto donde habla sobre un teorico basico sobre lenguaje de señas como una
                        introduccion al tema,
                        al final del archivo se encuentran preguntas sobre cada texto leido, enviar todas las preguntas
                        en un archivo aparte.
                        Leer el archivo adjunto donde habla sobre un teorico basico sobre lenguaje de señas como una
                        introduccion al tema,
                        al final del archivo se encuentran preguntas sobre cada texto leido, enviar todas las preguntas
                        en un archivo aparte.
                        Leer el archivo adjunto donde habla sobre un teorico basico sobre lenguaje de señas como una
                        introduccion al tema,
                        al final del archivo se encuentran preguntas sobre cada texto leido, enviar todas las preguntas
                        en un archivo aparte.
                        Leer el archivo adjunto donde habla sobre un teorico basico sobre lenguaje de señas como una
                        introduccion al tema,
                        al final del archivo se encuentran preguntas sobre cada texto leido, enviar todas las preguntas
                        en un archivo aparte.
                      </p>
                    </div>

                    <div class="flex flex-col justify-center space-y-4 p-5">
                      <p class="text-2xl font-semibold text-[#1B3B50]">Material de Referencia</p>
                      <div id="file-container"
                        class="flex flex-col h-[13.16vh] rounded-md shadow-md/25 overflow-y-scroll border-2 border-b-0 border-[#DFDFDF]">

                      </div>
                    </div>

                  </div>

                  <!-- BUTTONS CONTAINER -->
                  <div class="flex w-full justify-center">
                    <button onclick="showTurnInAssignmentPopup()" class="orange-button h-15 w-1/4">Entregar</button>
                  </div>

                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>

</html>