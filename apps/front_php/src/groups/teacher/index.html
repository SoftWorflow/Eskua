<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Home Grupo - Eskua</title>
  <link rel="stylesheet" href="../../output.css">
  <link rel="icon" href="/images/EskuaLogo2.png">
  <script src="/auth.js"></script>
  <script src="/navbar-loader.js"></script>
  <script src="/groups/group-navbar-loader.js"></script>
  <script src="teacherGroup.js"></script>
  <script src="/copy-script.js"></script>
  <script>
    requireRole('teacher');

    document.documentElement.style.display = 'none';
    (async () => {
      // Allow access even if not logged in
      await authManager.ensureValidToken();

      if (authManager.getAccessToken()) {
        authManager.startTokenMonitoring();
      }

      await initializeNavbar('#navbar-container');
      await initializeGroupNavbar('home');

      document.documentElement.style.display = '';
    })();
  </script>
</head>

<body>
  <div id="navbar-container"></div>
  <div
    class="min-h-screen w-full flex flex-col items-center justify-end px-10 bg-[url(../images/Background3.png)] bg-fixed">
    <div class="w-full h-[86vh] bg-[#1B3B50] rounded-t-xl flex px-2 pt-2">
      <!-- FONDO BLANCO -->
      <div class="w-full h-full bg-white rounded-t-sm flex flex-col items-center justify-center">
        <!-- MAIN CONTENT -->
        <div class="flex w-full h-full">
          <!-- SIDE MENU -->
          <div id="group-navbar-container"></div>

          <!-- RIGHT CONENT -->
          <div class="w-full flex flex-col items-center justify-center space-y-5">

            <!-- CONTENT CONTAINER -->
            <div class="w-3/4 h-11/12 flex flex-col space-y-12 py-10">

              <!-- TITLE -->
              <div class="flex flex-col items-center space-y-1.5">
                <!-- GROUP NAME -->
                <h1 class="text-6xl font-semibold text-[#1B3B50]" id="group-name"></h1>
                <!-- GROUP LEVEL -->
                <div class="flex items-center space-x-2">
                  <p class="text-lg text-[#6A7282]" id="group-level"></p>
                  <div id="stars-container" class="flex gap-1 items-center"></div>
                </div>
                <div class="flex gap-2">
                  <p class="text-center">CÃ³digo del grupo:</p>
                  <span><a id="group-code">778548</a></span>
                </div>
              </div>

              <!-- MEMBERS SEARCH + TABLE -->
              <div class="flex flex-col h-full space-y-6">
                <!-- Search + Filter -->
                <div class="flex items-center space-x-5">
                  <!-- Search Bar -->
                  <div class="relative w-full">
                    <!-- Magnifying glass Icon -->
                    <span class="absolute inset-y-0 left-4 flex items-center text-gray-400 pointer-events-none">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
                        stroke="currentColor" class="w-5 h-5">
                        <path stroke-linecap="round" stroke-linejoin="round"
                          d="M21 21l-4.35-4.35m0 0A7.5 7.5 0 1110.5 3a7.5 7.5 0 016.15 13.65z" />
                      </svg>
                    </span>
                    <!-- Input -->
                    <input id='search-bar' type="text" placeholder="Buscar Integrante..."
                      class="w-full pl-12 pr-12 rounded-2xl border-0 shadow-md/25 focus:ring-2 focus:ring-[#E1A05B] transition duration-150 bg-[#FBFBFB]" />
                    <!-- Filter Icon -->
                    <button
                      class="absolute inset-y-0 right-4 flex items-center text-gray-400 hover:text-[#E1A05B] transition">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
                        stroke="currentColor" class="w-5 h-5">
                        <path stroke-linecap="round" stroke-linejoin="round"
                          d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2a1 1 0 01-.293.707L14 13.414V19a1 1 0 01-1.447.894l-4-2A1 1 0 018 17V13.414L3.293 6.707A1 1 0 013 6V4z" />
                      </svg>
                    </button>
                  </div>

                  <div class="flex space-x-2">

                    <!-- Docente -->
                    <label class="relative cursor-pointer">
                      <input type="radio" name="materialType" class="peer hidden" />
                      <div class="rounded-full border-2 border-[#A3A3A3] text-[#A3A3A3] w-32 px-3 py-1.5 flex items-center justify-between shadow-sm
                            transition-all duration-200 ease-in-out
                            hover:bg-[#f5f5f5] hover:shadow-md
                            peer-checked:border-[#E1A05B] peer-checked:text-[#E1A05B]
                            peer-checked:hover:bg-[#fff8f0]">
                        <p class="text-sm">Docente</p>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5"
                          stroke="currentColor" class="w-4 h-4 transition-colors duration-200
                              peer-hover:stroke-[#E1A05B]
                              peer-checked:stroke-[#E1A05B]
                              peer-checked:hover:stroke-[#E54B4B]">
                          <path class="plus-icon" stroke-linecap="round" stroke-linejoin="round" d="M12 6v12m6-6H6" />
                          <path class="x-icon hidden" stroke-linecap="round" stroke-linejoin="round"
                            d="M6 18L18 6M6 6l12 12" />
                        </svg>
                      </div>
                    </label>
                    <!-- Alumno -->
                    <label class="relative cursor-pointer">
                      <input type="radio" name="materialType" class="peer hidden" />
                      <div class="rounded-full border-2 border-[#A3A3A3] text-[#A3A3A3]
                            w-32 px-3 py-1.5 flex items-center justify-between shadow-sm
                            transition-all duration-200 ease-in-out
                            hover:bg-[#f5f5f5] hover:shadow-md
                            peer-checked:border-[#E1A05B] peer-checked:text-[#E1A05B]
                            peer-checked:hover:bg-[#fff8f0]">
                        <p class="text-sm">Alumnos</p>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5"
                          stroke="currentColor" class="w-4 h-4 transition-colors duration-200
                              peer-hover:stroke-[#E1A05B]
                              peer-checked:stroke-[#E1A05B]
                              peer-checked:hover:stroke-[#E54B4B]">
                          <path class="plus-icon" stroke-linecap="round" stroke-linejoin="round" d="M12 6v12m6-6H6" />
                          <path class="x-icon hidden" stroke-linecap="round" stroke-linejoin="round"
                            d="M6 18L18 6M6 6l12 12" />
                        </svg>
                      </div>
                    </label>

                  </div>
                </div>

                <!-- MEMBERS TABLE -->
                <div id="members-table"
                  class="w-full h-[45vh] shadow-md/25 rounded-xl bg-[#FBFBFB] flex flex-col overflow-y-auto"></div>
                <!-- <p class="text-sm text-[#6A7282]">Mostrando 4 de 52</p> -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
</body>

</html>