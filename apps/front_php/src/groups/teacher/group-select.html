<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grupos - Eskua</title>
    <link rel="stylesheet" href="../../output.css">
    <link rel="icon" href="/images/EskuaLogo2.png">
    <script src="../../auth.js"></script>
    <script src="../../navbar-loader.js"></script>
    <script src="groupSelect.js"></script>
    <script>
        requireRole('teacher');

        document.documentElement.style.display = 'none';
        (async () => {
            // Allow access even if not logged in
            await authManager.ensureValidToken();

            if (authManager.getAccessToken()) {
                authManager.startTokenMonitoring();
            }

            await initializeNavbar('#navbar-container');

            document.documentElement.style.display = '';
        })();
    </script>
</head>

<body>
    <div id="navbar-container"></div>
    <div
        class="min-h-screen w-full flex flex-col items-center justify-end px-10 bg-[url(../images/Background3.png)] bg-fixed">
        <div class="w-full h-[86vh] bg-[#1B3B50] rounded-t-xl flex px-2 pt-2">
            <!-- FONDO BLANCO -->
            <div class="w-full h-full bg-white rounded-t-sm flex flex-col items-center justify-center">
                <!-- Return Arrow -->
                <div class="group" onclick="window.history.back()">
                    <img src="../../../../images/ReturnArrow.svg" alt=""
                        class="absolute left-[6.25vw] top-[20.37vh] w-8 h-8 interactive scale105 block group-hover:hidden">
                    <img src="../../../../images/ReturnArrowOrange.svg" alt=""
                        class="absolute left-[6.25vw] top-[20.37vh] w-8 h-8 interactive scale105 hidden group-hover:block">
                </div>

                <!-- MAIN CONTENT -->
                <div class="w-full flex flex-col space-y-20 items-center">
                    <!-- TITLE -->
                    <div class="flex flex-col items-center space-y-4">
                        <h1 class="text-6xl font-semibold text-[#1B3B50]">Grupos</h1>
                        <p class="text-lg text-[#6A7282]" id="welcome-text">Bienvenido nuevamente, Nombre Docente.</p>
                    </div>
                    <!-- CARDS -->
                    <div id="groups-container" class="grid grid-cols-3 gap-10"></div>
                </div>

            </div>
        </div>
    </div>
    <script>
        (async () => {
            const userRole = getUserRole();

            if (userRole !== 'teacher') {
                console.warn('Unauthorized access attempt to teacher home');
                window.location.href = '../../error-pages/403.html';
                return;
            }
        })();
    </script>
</body>

</html>